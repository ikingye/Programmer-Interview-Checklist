<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="description" content="HTTP HTTP 基础 HTTP 状态码有哪些？  2XX 成功  200 ok（请求成功） 204 no content （请求成功，但是没有结果返回） 206 partial content （客户端请求一部分资源，服务端成功响应，返回一范围资源）   3XX 重定向  301 move permanently （永久性重定向） 302 found （临时性重定向） 303 see other （示由于请求对应的资源存在着另一个 URI，应使用 GET 方法定向获取请求的资源） 304 not modified （表示在客户端采用带条件的访问某资源时，服务端找到了资源，但是这个请求的条件不符合。跟重定向无关） 307 temporary redirect （跟 302 一个意思）   4XX 客户端错误  400 bad request （请求报文存在语法错误） 401 unauthorized （需要认证（第一次返回）或者认证失败（第二次返回）） 403 forbidden （请求被服务器拒绝了） 404 not found （服务器上无法找到请求的资源）   5XX 服务器错误  500 internal server error （服务端执行请求时发生了错误） 503 service unavailable （服务器正在超负载或者停机维护，无法处理请求）    301 和 302 有什么区别？分别适用于什么场景？ 101， 304， 307 分别是什么？ 101 协议升级"><meta property="og:title" content="HTTP" />
<meta property="og:description" content="HTTP HTTP 基础 HTTP 状态码有哪些？  2XX 成功  200 ok（请求成功） 204 no content （请求成功，但是没有结果返回） 206 partial content （客户端请求一部分资源，服务端成功响应，返回一范围资源）   3XX 重定向  301 move permanently （永久性重定向） 302 found （临时性重定向） 303 see other （示由于请求对应的资源存在着另一个 URI，应使用 GET 方法定向获取请求的资源） 304 not modified （表示在客户端采用带条件的访问某资源时，服务端找到了资源，但是这个请求的条件不符合。跟重定向无关） 307 temporary redirect （跟 302 一个意思）   4XX 客户端错误  400 bad request （请求报文存在语法错误） 401 unauthorized （需要认证（第一次返回）或者认证失败（第二次返回）） 403 forbidden （请求被服务器拒绝了） 404 not found （服务器上无法找到请求的资源）   5XX 服务器错误  500 internal server error （服务端执行请求时发生了错误） 503 service unavailable （服务器正在超负载或者停机维护，无法处理请求）    301 和 302 有什么区别？分别适用于什么场景？ 101， 304， 307 分别是什么？ 101 协议升级" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://ikingye.github.io/interview/docs/network/http/" /><meta property="article:section" content="docs" />

<meta property="article:modified_time" content="2020-07-20T19:58:16&#43;08:00" />

<title>HTTP | 面试笔记</title>
<link rel="icon" href="/interview/favicon.png" type="image/x-icon">


<link rel="stylesheet" href="/interview/book.min.c0eac73c59ba8c4c46d8242add7197a5e648531e07527f69b31760f60ad40b5d.css" integrity="sha256-wOrHPFm6jExG2CQq3XGXpeZIUx4HUn9psxdg9grUC10=">


<script defer src="/interview/en.search.min.8ca98327544c1f8e6cf0fae1420fcc8b85b87e93f596064dffac5f0d0c17ebeb.js" integrity="sha256-jKmDJ1RMH45s8PrhQg/Mi4W4fpP1lgZN/6xfDQwX6&#43;s="></script>

<!--
Made with Book Theme
https://github.com/alex-shpak/hugo-book
-->

  
</head>

<body>
  <input type="checkbox" class="hidden" id="menu-control" />
  <main class="container flex">
    <aside class="book-menu">
      
  <nav>
<h2 class="book-brand">
  <a href="/interview"><span>面试笔记</span>
  </a>
</h2>


<div class="book-search">
  <input type="text" id="book-search-input" placeholder="Search" aria-label="Search" maxlength="64" data-hotkeys="s/" />
  <div class="book-search-spinner spinner hidden"></div>
  <ul id="book-search-results"></ul>
</div>



<ul>
  <li><a href="https://kingye.me" target="_blank" rel="noopener noreferrer">博客</a></li>
  <li><a href="https://cdn.jsdelivr.net/gh/ikingye/imagehost/picgo/20200417021727.png" target="_blank" rel="noopener noreferrer">公众号</a></li>
  <li><a href="https://github.com/ikingye" target="_blank" rel="noopener noreferrer">Github</a></li>
  <li><a href="https://weibo.com/kingyip15215" target="_blank" rel="noopener noreferrer">微博</a></li>
  <li><a href="https://www.zhihu.com/people/wutongyip" target="_blank" rel="noopener noreferrer">知乎</a></li>
</ul>
<hr />








  

  
  





 
  
    




  
  <ul>
    
      
        

  <li>
    

  
  <a href="/interview/docs/os/" class="collapsed ">2. 操作系统</a>
  


    






  </li>


      
    
      
        

  <li>
    

  
  <a href="/interview/docs/network/" class="collapsed ">3. 网络</a>
  


    




  
  <ul>
    
      
        <li>

  
  <a href="/interview/docs/network/http/" class="active">HTTP</a>
  

</li>
      
    
      
        <li>

  
  <a href="/interview/docs/network/tcp/" class="">TCP/UDP/IP</a>
  

</li>
      
    
      
        <li>

  
  <a href="/interview/docs/network/send/" class="">发包工具</a>
  

</li>
      
    
      
        <li>

  
  <a href="/interview/docs/network/capture/" class="">抓包</a>
  

</li>
      
    
  </ul>
  



  </li>


      
    
      
        

  <li>
    

  
  <a href="/interview/docs/algs/" class="collapsed ">4. 数据结构与算法</a>
  


    






  </li>


      
    
      
        

  <li>
    

  
  <a href="/interview/docs/pl/" class="collapsed ">5. 编程语言</a>
  


    






  </li>


      
    
      
        

  <li>
    

  
  <a href="/interview/docs/se/" class="collapsed ">6. 软件工程</a>
  


    






  </li>


      
    
      
        

  <li>
    

  
  <a href="/interview/docs/cloud/" class="collapsed ">7. 云计算</a>
  


    






  </li>


      
    
      
        

  <li>
    

  
  <a href="/interview/docs/bigdata/" class="collapsed ">8. 大数据</a>
  


    






  </li>


      
    
      
        

  <li>
    

  
  <a href="/interview/docs/ai/" class="collapsed ">9. 人工智能</a>
  


    






  </li>


      
    
      
        

  <li>
    

  
  <span>10. 后台</span>
  


    






  </li>


      
    
      
        

  <li>
    

  
  <a href="/interview/docs/frontend/" class="collapsed ">11. 前端与客户端</a>
  


    






  </li>


      
    
      
        

  <li>
    

  
  <a href="/interview/docs/op/" class="collapsed ">13. 运维</a>
  


    






  </li>


      
    
      
        

  <li>
    

  
  <a href="/interview/docs/test/" class="collapsed ">14. 测试</a>
  


    






  </li>


      
    
      
        

  <li>
    

  
  <a href="/interview/docs/security/" class="collapsed ">13. 安全</a>
  


    






  </li>


      
    
      
        

  <li>
    

  
  <a href="/interview/docs/others/" class="collapsed ">15. 其他</a>
  


    






  </li>


      
    
  </ul>
  



  















<hr />
<ul>
  <li><a href="https://cdn.jsdelivr.net/gh/ikingye/imagehost/picgo/20200417022040.png" target="_blank" rel="noopener noreferrer">微信</a></li>
  <li><a href="https://qm.qq.com/cgi-bin/qm/qr?k=EUhzg0UwUksxpQnwEmPngRLezlC6qrnn&jump_from=webapi" target="_blank" rel="noopener noreferrer"><img src="//pub.idqqimg.com/wpa/images/group.png"></a></li>
</ul>




</nav>




  <script>(function(){var a=document.querySelector("aside.book-menu nav");addEventListener("beforeunload",function(b){localStorage.setItem("menu.scrollTop",a.scrollTop)}),a.scrollTop=localStorage.getItem("menu.scrollTop")})()</script>


 
    </aside>

    <div class="book-page">
      <header class="book-header">
        
  <div class="flex align-center justify-between">
  <label for="menu-control">
    <img src="/interview/svg/menu.svg" class="book-icon" alt="Menu" />
  </label>

  <strong>HTTP</strong>

  <label for="toc-control">
    <img src="/interview/svg/toc.svg" class="book-icon" alt="Table of Contents" />
  </label>
</div>


  
    <input type="checkbox" class="hidden" id="toc-control" />
    <aside class="hidden clearfix">
      
  <nav id="TableOfContents">
  <ul>
    <li><a href="#http-基础">HTTP 基础</a>
      <ul>
        <li><a href="#http-状态码有哪些">HTTP 状态码有哪些？</a></li>
        <li><a href="#301-和-302-有什么区别分别适用于什么场景">301 和 302 有什么区别？分别适用于什么场景？</a></li>
        <li><a href="#101-304-307-分别是什么">101， 304， 307 分别是什么？</a></li>
        <li><a href="#http-chunk-是什么解决了什么问题">HTTP chunk 是什么？解决了什么问题？</a></li>
        <li><a href="#http11-有哪些问题">HTTP/1.1 有哪些问题？</a></li>
      </ul>
    </li>
    <li><a href="#http2">HTTP2</a>
      <ul>
        <li><a href="#http2-有哪些特点">HTTP2 有哪些特点？</a></li>
        <li><a href="#http2-多路复用是如何实现的">HTTP2 多路复用是如何实现的？</a></li>
      </ul>
    </li>
    <li><a href="#https">HTTPS</a>
      <ul>
        <li><a href="#https-握手过程">HTTPS 握手过程</a></li>
      </ul>
    </li>
  </ul>
</nav>


    </aside>
  
 
      </header>

      
      
  <article class="markdown"><h1 id="http">HTTP</h1>
<h2 id="http-基础">HTTP 基础</h2>
<h3 id="http-状态码有哪些">HTTP 状态码有哪些？</h3>
<ul>
<li>2XX 成功
<ul>
<li>200 ok（请求成功）</li>
<li>204 no content （请求成功，但是没有结果返回）</li>
<li>206 partial content （客户端请求一部分资源，服务端成功响应，返回一范围资源）</li>
</ul>
</li>
<li>3XX 重定向
<ul>
<li>301 move permanently （永久性重定向）</li>
<li>302 found （临时性重定向）</li>
<li>303 see other （示由于请求对应的资源存在着另一个 URI，应使用 GET 方法定向获取请求的资源）</li>
<li>304 not modified （表示在客户端采用带条件的访问某资源时，服务端找到了资源，但是这个请求的条件不符合。跟重定向无关）</li>
<li>307 temporary redirect （跟 302 一个意思）</li>
</ul>
</li>
<li>4XX 客户端错误
<ul>
<li>400 bad request （请求报文存在语法错误）</li>
<li>401 unauthorized （需要认证（第一次返回）或者认证失败（第二次返回））</li>
<li>403 forbidden （请求被服务器拒绝了）</li>
<li>404 not found （服务器上无法找到请求的资源）</li>
</ul>
</li>
<li>5XX 服务器错误
<ul>
<li>500 internal server error （服务端执行请求时发生了错误）</li>
<li>503 service unavailable （服务器正在超负载或者停机维护，无法处理请求）</li>
</ul>
</li>
</ul>
<h3 id="301-和-302-有什么区别分别适用于什么场景">301 和 302 有什么区别？分别适用于什么场景？</h3>
<h3 id="101-304-307-分别是什么">101， 304， 307 分别是什么？</h3>
<p><strong>101 协议升级</strong></p>
<p>主要用于 websocket，也可以用于 http2 的升级。</p>
<p><strong>304 协商缓存</strong></p>
<p>浏览器缓存分为强制缓存和协商缓存，优先读取强制缓存。</p>
<p>强制缓存分为 expires 和 cache-control，而 expires 是一个特定的时间，是比较旧的标准和 cache-control 通常是一个具体的时间长度，比较新，优先级也比较高。</p>
<p><strong>307 hsts 跳转</strong></p>
<p>原本的用法是用于让 post 请求的跳转去新的 post 请求，但也用于 hsts 跳转。</p>
<p>hsts 全称 HTTP 严格传输安全（HTTP Strict Transport Security，縮寫：HSTS），功能是要求浏览器下次访问该站点时使用 https 来访问，而不再需要先是 http 再转 https。这样可以避免 ssl 剥离攻击，即攻击者在用户使用 http 访问的过程中进行攻击，对服务器冒充自己是用户，在攻击者和服务器中使用 https 访问，在用户和服务器中使用 http 访问。</p>
<p>具体使用方法是在服务器响应头中添加 Strict-Transport-Security，可以设置 max-age</p>
<p>参考：</p>
<ul>
<li><a href="http://hpoenixf.com/%E9%9D%A2%E8%AF%95%E5%BF%85%E8%80%83%E4%B9%8Bhttp%E7%8A%B6%E6%80%81%E7%A0%81%E6%9C%89%E5%93%AA%E4%BA%9B.html">面试必考之 http 状态码有哪些</a></li>
</ul>
<hr>
<h3 id="http-chunk-是什么解决了什么问题">HTTP chunk 是什么？解决了什么问题？</h3>
<p>允许 HTTP 由应用服务器发送给客户端应用的数据可以分成多个部分</p>
<p><code>Transfer-Encoding: chunked</code></p>
<p>历史上 Transfer-Encoding 支持 多种编码，但是目前最新的规范里，只支持 chunked 编码，即分块编码一种。</p>
<p>分块传输编码只在 HTTP/1.1 中提供</p>
<p>chunked 还是给浏览器传输了<strong>长度</strong>，但是偷偷藏在了报文当中，所以并没有显式地像 content-length 在头部声明</p>
<p>由一个标明长度为 0 的 chunk 结束</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#75715e"># body 非空，而且没有 Content-Length</span>
chunked <span style="color:#f92672">=</span> <span style="color:#f92672">not</span> (request<span style="color:#f92672">.</span>body <span style="color:#f92672">is</span> None <span style="color:#f92672">or</span> <span style="color:#e6db74">&#39;Content-Length&#39;</span> <span style="color:#f92672">in</span> request<span style="color:#f92672">.</span>headers)
</code></pre></div><p>Facebook 为了减少页面的响应时间，发明了一种他们称之为 “BigPipe” 的技术，这个技术的核心原理就是 Http 的 Chunk 编码。
据 Facebook 的测试表明 “BigPipe” 技术使其页面响应时间减少了约 50% （FireFox3.6 除外，用 FireFox3.6 的响应时间减少约 22%）</p>
<p><img src="https://cdn.jsdelivr.net/gh/ikingye/imagehost/picgo/20200720191554.png" alt="" /></p>
<p>参考：</p>
<ul>
<li><a href="https://zhuanlan.zhihu.com/p/65816404">为什么在 HTTP 的 chunked 模式下不需要设置长度</a></li>
<li><a href="https://www.zhihu.com/question/26495136">HTTP 协议中 chunk 的应用场景？</a></li>
<li><a href="https://kubernetes.io/docs/reference/using-api/api-concepts/#efficient-detection-of-changes">kubernetes 用 chunked 来实现 watch 机制，实现发布订阅消息的效果</a></li>
</ul>
<hr>
<h3 id="http11-有哪些问题">HTTP/1.1 有哪些问题？</h3>
<ol>
<li>TCP 连接数限制</li>
</ol>
<ul>
<li>问题：对于同一个域名，浏览器最多只能同时创建 6~8 个 TCP 连接 (不同浏览器不一样)</li>
<li>解决：域名分片 技术，其实就是资源分域，将资源放在不同域名下 (比如二级子域名下)
<ul>
<li>还有问题：每个 TCP 连接本身需要经过 DNS 查询、三步握手、慢启动等，还占用额外的 CPU 和内存</li>
</ul>
</li>
</ul>
<ol start="2">
<li><a href="https://www.wikiwand.com/zh-cn/%E9%98%9F%E5%A4%B4%E9%98%BB%E5%A1%9E">队头阻塞（ Head-of-line blocking 或缩写为 HOL blocking ）</a></li>
</ol>
<ul>
<li>问题：每个 TCP 连接同时只能处理一个请求 - 响应，浏览器按 FIFO 原则处理请求，如果上一个响应没返回，后续请求 - 响应都会受阻。</li>
<li>解决： <a href="https://www.wikiwand.com/zh-cn/HTTP%E7%AE%A1%E7%B7%9A%E5%8C%96">HTTP 管线化</a>
<ul>
<li>还有问题：比如第一个响应慢还是会阻塞后续响应、服务器为了按序返回相应需要缓存多个响应占用更多资源、浏览器中途断连重试服务器可能得重新处理多个请求、还有必须客户端 - 代理 - 服务器都支持管线化</li>
</ul>
</li>
</ul>
<ol start="3">
<li>Header 内容多，而且每次请求 Header 不会变化太多，没有相应的压缩传输优化方案</li>
<li>为了尽可能减少请求数，需要做合并文件、雪碧图、资源内联等优化工作，但是这无疑造成了单个请求内容变大延迟变高的问题，且内嵌的资源不能有效地使用缓存机制</li>
<li>明文传输不安全</li>
</ol>
<p>参考：</p>
<ul>
<li><a href="https://blog.wangriyu.wang/2018/05-HTTP2.html">HTTP2 详解</a></li>
</ul>
<hr>
<hr>
<h2 id="http2">HTTP2</h2>
<h3 id="http2-有哪些特点">HTTP2 有哪些特点？</h3>
<ol>
<li>二进制分帧层 (Binary Framing Layer)
<ul>
<li>帧是数据传输的最小单位，以二进制传输代替原本的明文传输，原本的报文消息被划分为更小的数据帧</li>
</ul>
</li>
<li>多路复用 (MultiPlexing)</li>
<li>服务端推送 (Server Push)</li>
<li>Header 压缩 (HPACK)</li>
<li>应用层的重置连接</li>
<li>请求优先级设置</li>
<li>流量控制</li>
<li>HTTP/1 的几种优化可以弃用
<ul>
<li>合并文件、内联资源、雪碧图、域名分片对于 HTTP/2 来说是不必要的，使用 h2 尽可能将资源细粒化，文件分解地尽可能散，不用担心请求数多</li>
</ul>
</li>
</ol>
<p>参考：</p>
<ul>
<li><a href="https://blog.wangriyu.wang/2018/05-HTTP2.html">HTTP2 详解</a></li>
</ul>
<h3 id="http2-多路复用是如何实现的">HTTP2 多路复用是如何实现的？</h3>
<hr>
<hr>
<h2 id="https">HTTPS</h2>
<h3 id="https-握手过程">HTTPS 握手过程</h3>
<ul>
<li>TCP 握手 + SSL 握手</li>
</ul>
<p>参考：</p>
<ul>
<li><a href="http://www.ruanyifeng.com/blog/2014/09/ssl-latency.html">SSL 延迟有多大？</a></li>
</ul>
</article>
 
      

      <footer class="book-footer">
        
  <div class="flex justify-between">



  <div>
    
    <a class="flex align-center" href="https://github.com/ikingye/interview/commit/eddd220c9f996f7abab2b0139d090311c15c020a" title='Last modified by yewang | 2020-07-20' target="_blank" rel="noopener">
      <img src="/interview/svg/calendar.svg" class="book-icon" alt="Calendar" />
      <span>2020-07-20</span>
    </a>
  </div>



</div>

 
        <div>
    <br>
    <script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
    <link rel="stylesheet" href="//cdn.bootcss.com/font-awesome/4.3.0/css/font-awesome.min.css">
    <p><span id="busuanzi_container_page_pv">本文访问量 <span id="busuanzi_value_page_pv"><i class="fa fa-spinner fa-spin"></i></span> 次</span></p>
    <p><span id="busuanzi_container_site_pv">本站总访问量 <span id="busuanzi_value_site_pv"><i class="fa fa-spinner fa-spin"></i></span> 次</span></p>
    <p><span id="busuanzi_container_site_uv">本站总访客数 <span id="busuanzi_value_site_uv"><i class="fa fa-spinner fa-spin"></i></span> 人</span></p>
</div>


      </footer>

      
  
  <div class="book-comments">
<script src="https://utteranc.es/client.js"
  repo="ikingye/note-cs"
  issue-term="pathname"
  theme="github-light"
  crossorigin="anonymous"
  async
></script>

<div id="footer">
  <p>
    <a href="https://kingye.me">叶王</a> &copy; 2013-2021
    版权所有。如果本文档对你有所帮助，可以<a
      href="https://cdn.jsdelivr.net/gh/ikingye/imagehost/picgo/20200428110046.png"
      target="_blank"
      rel="noopener noreferrer"
      >请作者喝饮料</a
    >。
  </p>
</div>

</div>
  
 

      <label for="menu-control" class="hidden book-menu-overlay"></label>
    </div>

    
    <aside class="book-toc">
      
  <nav id="TableOfContents">
  <ul>
    <li><a href="#http-基础">HTTP 基础</a>
      <ul>
        <li><a href="#http-状态码有哪些">HTTP 状态码有哪些？</a></li>
        <li><a href="#301-和-302-有什么区别分别适用于什么场景">301 和 302 有什么区别？分别适用于什么场景？</a></li>
        <li><a href="#101-304-307-分别是什么">101， 304， 307 分别是什么？</a></li>
        <li><a href="#http-chunk-是什么解决了什么问题">HTTP chunk 是什么？解决了什么问题？</a></li>
        <li><a href="#http11-有哪些问题">HTTP/1.1 有哪些问题？</a></li>
      </ul>
    </li>
    <li><a href="#http2">HTTP2</a>
      <ul>
        <li><a href="#http2-有哪些特点">HTTP2 有哪些特点？</a></li>
        <li><a href="#http2-多路复用是如何实现的">HTTP2 多路复用是如何实现的？</a></li>
      </ul>
    </li>
    <li><a href="#https">HTTPS</a>
      <ul>
        <li><a href="#https-握手过程">HTTPS 握手过程</a></li>
      </ul>
    </li>
  </ul>
</nav>

 
    </aside>
    
  </main>

  
</body>

</html>












